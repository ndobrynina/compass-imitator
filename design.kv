#:kivy 1.11.1
#:kivy 0.104.2
<Design>:
    
    tab_width: 200
    do_default_tab: False
    tab_pos: 'top_mid'

    indicator_field: indicator_field

    canvas:
        Color:
            rgba: .16, .16, .16, .97
        Rectangle:
            size: self.size
            pos: self.pos

    TabbedPanelItem:
        text: "Настройки сентенций"
        color: 1, 1, 1, 1
        outline_color: 0.5, 0.5, 0.5, 1
        background_color: .95, .95, .95, .3

        FloatLayout:

            background_color: .1, .1, .1, .96
            Label:
                text: 'THS' 
                bold: True
                color: 1, 1, 1, .6    
                pos_hint: {'center': (.15, .95)} 
            Label:
                text: 'Курс'
                color: 1, 1, 1, .6
                pos_hint: {'center': (.35, .95)}
            Label:
                text: 'Индикатор режима'
                color: 1, 1, 1, .6
                pos_hint: {'center': (.55, .95)}     
            Label:
                color: 1, 1, 1, .6
                text: 'Контрольная сумма'
                pos_hint: {'center': (.75, .95)}          
            MDCheckbox:
                active: True
                size_hint: None, None
                size: "48dp", "48dp"
                pos_hint:{'center': (.15, .85)}
                on_active: root.set_ths_checkbx(*args)
                selected_color: 1, .4, .2, 1  
                unselected_color: 1, 1, 1, .6
            MDSlider:
                pos_hint:{'center': (.35, .85)}
                min: 0.0
                max: 359.0
                value: 0.0
                color: 1, .4, .2, 1
                size_hint: None, None
                on_active: root.set_ths_course(self.active, self.value)
            MDTextField:
                id: indicator_field
                size: 100, 44
                pos_hint: {'center': (.55, .85)}
                text: 'A'
                current_hint_text_color: 1, 1, 1, .6
                hint_text_color_focus: 1, 1, 1, .6
                size_hint: .15, .1
                on_focus: if self.focus: root.menu_ths.open()
            MDSwitch:
                pos_hint:{'center': (.75, .85)}
                theme_thumb_down_color: 'Custom' 
                thumb_color_down: 1, .4, .2, 1
                active: False
                on_active: root.set_ths_sum(*args)
            Label:
                text: 'HDT'
                bold: True
                color: 1, 1, 1, .6
                pos_hint: {'center': (.15, .65)}
            Label:
                text: 'Курс'
                color: 1, 1, 1, .6
                pos_hint: {'center': (.35, .65)}  
            Label:
                text: 'Тип'
                pos_hint: {'center': (.55, .65)}  
                color: 1, 1, 1, .6
            Label:
                color: 1, 1, 1, .6
                text: 'Контрольная сумма'
                pos_hint: {'center': (.75, .65)}  
            MDCheckbox:
                active: True
                id: hdt_check
                size_hint: None, None
                size: "48dp", "48dp"
                pos_hint: {'center': (.15, .55)}
                on_active: root.set_hdt_checkbx(*args)
                selected_color: 1, .4, .2, 1  
                unselected_color: 1, 1, 1, .6
            MDSlider:
                id: hdt_curs
                pos_hint: {'center': (.35, .55)}
                min: 0.0
                max: 359.0
                value: 0.0
                color: 1, .4, .2, 1
                size_hint: None, None
                on_active: root.set_hdt_course(self.active, self.value)
            MDTextField:
                id: hdt_type
                pos_hint:{'center': (.55, .55)}
                line_color_focus: 1, .4, .2, 1
                hint_text: 'Признак истинного курса'
                text: 'T'
                current_hint_text_color: 1, 1, 1, .6
                hint_text_color_focus: 1, 1, 1, .6
                size_hint: .15, .1
                on_focus: root.set_hdt_t(self.focus, self.text)
            MDSwitch:
                id: hdt_checksum
                pos_hint:{'center': (.75, .55)}
                theme_thumb_down_color: 'Custom' 
                thumb_color_down: 1, .4, .2, 1
                on_active: root.set_hdt_sum(*args)
            Label:
                text: 'HDG'
                bold: True 
                color: 1, 1, 1, .6    
                pos_hint: {'center': (.15, .25)}
            Label:
                text: 'Курс'
                color: 1, 1, 1, .6
                pos_hint: {'center': (.35, .25)}     
            Label:
                text: 'Магнитная девиация'
                pos_hint: {'center': (.55, .35)}
                color: 1, 1, 1, .6
            Label:
                color: 1, 1, 1, .6
                text: 'Контрольная сумма'
                pos_hint: {'center': (.75, .25)}          
            MDCheckbox:
                active: True
                size_hint: None, None
                size: "48dp", "48dp"
                pos_hint:{'center': (.15, .15)}
                on_active: root.set_hdg_checkbx(*args)
                selected_color: 1, .4, .2, 1  
                unselected_color: 1, 1, 1, .6
            MDSlider:
                pos_hint:{'center': (.35, .15)}
                min: 0.0
                max: 359.0
                value: 0.0
                color: 1, .4, .2, 1
                size_hint: None, None
                on_active: root.set_hdg_course(self.active, self.value)
            MDSlider:
                pos_hint:{'center': (.55, .25)}
                min: -359.9
                max: 359.9
                value: 0.0
                color: 1, .4, .2, 1
                size_hint: None, None
                on_active: root.set_hdg_edev(self.active, self.value)
            MDSwitch:
                pos_hint:{'center': (.75, .15)}
                theme_thumb_down_color: 'Custom' 
                thumb_color_down: 1, .4, .2, 1
                active: False
                on_active: root.set_hdg_sum(*args)
            Label:
                text: 'Магнитное склонение'
                pos_hint: {'center': (.55, .15)}
                color: 1, 1, 1, .6
            MDSlider:
                pos_hint:{'center': (.55, .05)}
                min: -359.9
                max: 359.9
                value: 0.0
                color: 1, .4, .2, 1
                size_hint: None, None
                on_active: root.set_hdg_wdev(self.active, self.value)

    TabbedPanelItem:
        text: 'Настройки порта'
        color: 1, 1, 1, 1
        outline_color: 0.5, 0.5, 0.5, 1
        background_color: .8, .8, .8, .3
        FloatLayout:
            background_color: .1, .1, .1, .96
            Label:
                text: 'Serial'
                bold: True
                color: 1, 1, 1, .6
                pos_hint: {'center': (.3, .95)}
            Label:
                text: 'Порт'
                color: 1, 1, 1, .6
                pos_hint: {'center': (.2, .8)} 
            Label:
                text: 'Режим'
                color: 1, 1, 1, .6
                pos_hint: {'center': (.5, .8)}
            Label:
                text: 'Скорость'
                color: 1, 1, 1, .6
                pos_hint: {'center': (.8, .8)}
            MDTextField:
                id: port_name
                line_color_focus: 1, .4, .2, 1
                hint_text: 'Port name'
                text: '/dev/ttyUSB0'
                current_hint_text_color: 1, 1, 1, .6
                hint_text_color_focus: 1, 1, 1, .6
                size_hint: .20, .1
                pos_hint: {'center': (.2, .7)}
                on_focus: root.set_port_name(self.focus, self.text)
            MDTextField:
                id: interface_mode
                size: 100, 44
                pos_hint: {'center': (.5, .7)}
                text: '422'
                current_hint_text_color: 1, 1, 1, .6
                hint_text_color_focus: 1, 1, 1, .6
                size_hint: .15, .1
                on_focus: if self.focus: root.menu_interface.open()
            MDTextField:
                id: port_baudrate
                size: 100, 44
                pos_hint: {'center': (.8, .7)}
                text: '9600'
                current_hint_text_color: 1, 1, 1, .6
                hint_text_color_focus: 1, 1, 1, .6
                size_hint: .15, .1
                on_focus: if self.focus: root.menu_baud.open()
            Label:
                text: 'Биты данных'
                color: 1, 1, 1, .6
                pos_hint: {'center': (.2, .6)} 
            Label:
                text: 'Четность'
                color: 1, 1, 1, .6
                pos_hint: {'center': (.5, .6)}
            Label:
                text: 'Стоп бит'
                color: 1, 1, 1, .6
                pos_hint: {'center': (.8, .6)}
            MDTextField:
                id: bytesize
                size: 100, 44
                pos_hint: {'center': (.2, .5)}
                text: '8'
                current_hint_text_color: 1, 1, 1, .6
                hint_text_color_focus: 1, 1, 1, .6
                size_hint: .15, .1
                on_focus: if self.focus: root.menu_bytesize.open()
            MDTextField:
                id: parity
                size: 100, 44
                pos_hint: {'center': (.5, .5)}
                text: 'No'
                current_hint_text_color: 1, 1, 1, .6
                hint_text_color_focus: 1, 1, 1, .6
                size_hint: .15, .1
                on_focus: if self.focus: root.menu_parity.open()
            MDTextField:
                id: stopbits
                size: 100, 44
                pos_hint: {'center': (.8, .5)}
                text: '1'
                current_hint_text_color: 1, 1, 1, .6
                hint_text_color_focus: 1, 1, 1, .6
                size_hint: .15, .1
                on_focus: if self.focus: root.menu_stopbits.open()
            MDRaisedButton:
                text: 'Подключить'
                size_hint: None, None
                size: 100, 44
                md_bg_color: 1, .4, .2, 1
                pos_hint: {'center': (.2, .1)}
                on_release: root.start_button()
            MDRaisedButton:
                text: 'Отключить'
                size_hint: None, None
                md_bg_color: 1, .4, .2, 1
                size: 100, 44
                pos_hint: {'center': (.8, .1)}
                on_release: root.close_button()
            Label:
                text: 'Ethernet'
                bold: True
                color: 1, 1, 1, .6
                pos_hint: {'center': (.3, .35)}  
            Label:
                text: 'Порт'
                color: 1, 1, 1, .6
                pos_hint: {'center': (.3, .25)}     
            MDTextField:
                id: port_name
                line_color_focus: 1, .4, .2, 1
                hint_text: ''
                text: '34458'
                current_hint_text_color: 1, 1, 1, .6
                hint_text_color_focus: 1, 1, 1, .6
                size_hint: .20, .1
                pos_hint: {'center': (.5, .25)}
                on_focus: root.set_port_name(self.focus, self.text)      
            Check:
                active: False
                id: serial
                pos_hint: {'center_x': .5, 'center_y': .95}
                on_active: root.set_type_tr(*args)
            Check:
                active: True
                id: tcp
                pos_hint: {'center_x': .5, 'center_y': .35}
                on_active: root.set_type_tr(*args)


<Check@MDCheckbox>:
    group: 'group'
    size_hint: None, None
    size: dp(48), dp(48)
    selected_color: 1, .4, .2, 1
    unselected_color: 1, 1, 1, .6 